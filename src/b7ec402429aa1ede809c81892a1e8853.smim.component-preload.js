//@ui5-bundle zhr231/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"zhr231/Component.js":function(){sap.ui.define(["sap/suite/ui/generic/template/lib/AppComponent"],function(e){"use strict";return e.extend("zhr231.Component",{metadata:{manifest:"json"}})});
},
	"zhr231/ext/controller/ChartTab.js":function(){sap.ui.define(["zhr231/ext/controller/Libs","sap/ui/base/Object","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/viz/ui5/format/ChartFormatter","sap/viz/ui5/controls/common/feeds/FeedItem","sap/viz/ui5/data/MeasureDefinition"],function(e,t,r,i,a,o,s,n){"use strict";return t.extend("zhr231.ext.controller.ChartTab",{owner:null,_chart:{_items:[],_period_key:"MONTH",_periods:[{key:"WEEK",value:"Week"},{key:"MONTH",value:"Month"},{key:"QUARTER",value:"Quarter"},{key:"YEAR",value:"Year"}]},constructor:function(e){this.owner=e;sap.ui.core.BusyIndicator.show(0);sap.ui.core.Fragment.load({id:e.getView().getId(),name:"zhr231.ext.fragment.ChartTab",controller:this}).then(function(t){this.owner.getView().byId("popOverDuty").connect(this.owner.getView().byId("frameDuty").getVizUid());this.chartModel=new r;this.chartModel.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);this.chartModel.setData(this._chart);t.setModel(this.chartModel,"chart");this.read_chart_data();e.getView().byId("chartVBox").addItem(t);sap.ui.core.BusyIndicator.hide()}.bind(this))},_calculate_average_line:function(e){const t=this.owner.getView().byId("frameDuty");const r=t.getVizProperties();const i=r.plotArea.referenceLine.line.valueAxis;const a=e.length>0;i[0].visible=a;if(a){i[0].value=a?e.reduce((e,t)=>e+Number(t.days_count),0)/e.length:0;i[0].label.text=`Average value ${Math.round(i[0].value*100)/100}`}t.setVizProperties(r)},_fillDuty:function(e){const t={};const r={};for(const i of e){const e=r[i.period]?r[i.period]:{period:i.period,period_raw:i.period_raw};r[i.period]=e;const a=`d${i.pernr}`;e[a]=(e[a]?e[a]:0)+Number(i.days_count);t[a]=`${i.ename} (${parseInt(i.pernr,10)})`}this._chart._items=Object.values(r);this._chart._items.sort((e,t)=>e.period_raw>t.period_raw?1:-1);const i=this.owner.getView().byId("frameDuty");const a=i.getFeeds();for(let e=1;e<a.length;e++)i.removeFeed(a[e]);const o=this.owner.getView().byId("datasetDuty");o.removeAllMeasures();const d=[];for(const e in t){const r=t[e];d.push(r);o.addMeasure(new n({value:`{chart>${e}}`,name:r}))}i.addFeed(new s({uid:"valueAxis",type:"Measure",values:d}))},read_chart_data:function(){const e=this.owner.getView().byId(this.owner._prefix+"listReportFilter");const t=e.getFilters();const r=this._chart._period_key+(e.getBasicSearchValue()?"^"+e.getBasicSearchValue():"");t.push(new i("period",a.EQ,r));this.owner.getOwnerComponent().getModel().read("/ZC_HR231_Chart",{filters:t,urlParameters:{$select:"pernr,period,days_count,ename,period_raw"},success:function(e){this._fillDuty(e.results);this._calculate_average_line(e.results);this.chartModel.updateBindings()}.bind(this)})}})});
},
	"zhr231/ext/controller/Details.js":function(){sap.ui.define(["zhr231/ext/controller/Libs","sap/ui/base/Object"],function(e,t){"use strict";return t.extend("zhr231.ext.controller.Details",{owner:null,_item:{},constructor:function(e){this.owner=e;this._model=new sap.ui.model.json.JSONModel;this._model.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);this._model.setData(this._item)},initItem:function(e,t){this.dialogCreateMode=!!t;for(let e in this._item)if(this._item.hasOwnProperty(e))delete this._item[e];this._item.pernr=e.pernr;this._item.ename=e.ename;this._item.notes=e.notes;this._item.role_text=e.role_text;this._item.eid=e.type?e.type.substring(4,6):"";this._item.prev_eid=this._item.eid;this._item.info=e.info;this._item.start=new Date(e.start.getTime());if(!this.dialogCreateMode){this._item.end=new Date(e.end1.getTime());this._item.start.setDate(this._item.start.getDate()+1);this._item.prev_start=new Date(this._item.start.getTime());this._item.end.setDate(this._item.end.getDate()+1);this._item.prev_end=new Date(this._item.end.getTime())}this._item.actionText=this.dialogCreateMode?"Create":"Change";this._model.updateBindings()},showPopup:function(e){if(!this._popup){this._popup=sap.ui.xmlfragment("zhr231.ext.fragment.Popup",this);this.owner.getView().addDependent(this._popup);this._popup.setModel(this._model,"item")}this._popup.openBy(e)},handleEditButton:function(){if(!this._dialog){this._dialog=sap.ui.xmlfragment("zhr231.ext.fragment.Dialog",this);this.owner.getView().addDependent(this._dialog);this._dialog.setModel(this._model,"item")}this._dialog.open()},handleEditCancelButton:function(){this._dialog.close()},handleActionButton:function(){this.set_pernr();if(this.dialogCreateMode){this.handleCreate();return}const e=this;const t=e._item;e.owner.getView().getModel().create("/ZC_HR231_Emergency_Role",{pernr:t.pernr,notes:t.notes,begda:"/Date("+t.start.getTime()+")/",endda:"/Date("+t.end.getTime()+")/",emergrole_id:t.eid,eid:t.prev_eid,prev_begda:"/Date("+t.prev_start.getTime()+")/",prev_endda:"/Date("+t.prev_end.getTime()+")/"},{success:function(i){e.owner.update_1_appointment("updated",{pernr:t.pernr,begda:t.prev_start,endda:t.prev_end},{pernr:t.pernr,eid:t.eid,role_text:sap.ui.getCore().byId("inType").getSelectedItem().getProperty("text"),color:i.color,begda:i.begda,endda:i.endda,notes:i.notes});e._dialog.close()}})},handleCreate:function(){const e=this;const t=e._item;e.owner.getView().getModel().create("/ZC_HR231_Emergency_Role",{pernr:t.pernr,emergrole_id:t.eid,notes:t.notes,begda:"/Date("+t.start.getTime()+")/",endda:"/Date("+t.end.getTime()+")/"},{success:function(i){e.owner.refreshCalendar(`Emergency role for ${t.pernr} created`,true);e._dialog.close()}})},handlePopoverDeleteButton:function(){const t=this;const i=t._item;if(!this.oConfirmDialog){this.oConfirmDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:"Confirm",content:new sap.m.Text({text:"Do you want to delete this role?"}),beginButton:new sap.m.Button({type:sap.m.ButtonType.Emphasized,text:"Delete",press:function(){this.oConfirmDialog.close();this.owner.getView().getModel().remove("/ZC_HR231_Emergency_Role(pernr='"+i.pernr+"',begda=datetime'"+e.getDateIso(i.prev_start)+"T00%3A00%3A00',endda=datetime'"+e.getDateIso(i.prev_end)+"T00%3A00%3A00',eid='"+i.eid+"')",{success:function(e){t.owner.update_1_appointment("deleted",{pernr:i.pernr,begda:i.prev_start,endda:i.prev_end})}})}.bind(this)}),endButton:new sap.m.Button({text:"Cancel",press:function(){this.oConfirmDialog.close()}.bind(this)})})}this.oConfirmDialog.open()},_onAfterDialogOpen:function(){this.set_pernr()},set_pernr:function(){const e=this._item.pernr?this._item.pernr.replace(/^0+/,""):"";const t=sap.ui.getCore().byId("idEdtPernr-input");t.mBindingInfos["value"].skipModelUpdate=true;t.setValue(e);document.getElementById("idEdtPernr-input-inner").value=e},_onOtherSelected:function(e){const{emergrole_id:t,ename:i}=e.getParameter("changes");this._item.ename=i;this._item.eid=t;this._model.updateBindings();this.set_pernr()},_onPernrSelected:function(e){if(e.mParameters.validated)this._item.pernr=e.mParameters.newValue}})});
},
	"zhr231/ext/controller/EditDef.js":function(){sap.ui.define(["zhr231/ext/controller/Libs","sap/ui/base/Object"],function(e,r){"use strict";return r.extend("zhr231.ext.controller.EditDef",{owner:null,_def:{},constructor:function(e){this.owner=e;this._model=new sap.ui.model.json.JSONModel;this._model.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);this._model.setData(this._def)},openDialog:function(e,r){const t=this;t.dialogCreateMode=e;t._def.pernr="";t._def.emergrole_id="";t._def.ename="";t._def.kz=false;t._def.ru=false;t._def.en=false;t._def.actionText=e?"Create":"Change";if(e){t.showDialog();return}const i=r.split("-");t._def.pernr=i[0];t._def.emergrole_id=i[1];this.readByPernr("ZC_HR231_DefaultsEdit",t._def.emergrole_id,function(e){t._def.emergrole_id=e.emergrole_id;t._def.ename=e.ename;t._def.kz=e.kz;t._def.ru=e.ru;t._def.en=e.en;t.showDialog()})},readByPernr:function(e,r,t){const i=[new sap.ui.model.Filter("pernr",sap.ui.model.FilterOperator.EQ,this._def.pernr)];if(r)i.push(new sap.ui.model.Filter("emergrole_id",sap.ui.model.FilterOperator.EQ,r));this.owner.getOwnerComponent().getModel().read(`/${e}`,{filters:i,success:function(e){t(e.results[0])}})},showDialog:function(){this._model.updateBindings();if(!this._dialog){this._dialog=sap.ui.xmlfragment("zhr231.ext.fragment.EditDef",this);this.owner.getView().addDependent(this._dialog);this._dialog.setModel(this._model,"def")}this._dialog.open()},closeDialog:function(e){this.owner.defaultUpdated(typeof e==="string"?e:"");this._dialog.close()},handleActionButton:function(){const r=this;const t=r._def;const i={pernr:t.pernr,emergrole_id:t.emergrole_id,kz:t.kz,ru:t.ru,en:t.en};if(!i.pernr||!i.emergrole_id){e.showMessage("Input required fields",true);return}const n=this.dialogCreateMode?"create":"update";r.owner.getView().getModel()[n]("/ZC_HR231_DefaultsEdit"+(!this.dialogCreateMode?`(pernr='${i.pernr}',emergrole_id='${i.emergrole_id}')`:""),i,{success:function(){r.closeDialog(`Option for ${r._def.pernr} ${n}d`)}})},_onAfterDialogOpen:function(){const e=this._def.pernr?this._def.pernr.replace(/^0+/,""):"";sap.ui.getCore().byId("idDefPernr").setValue(e);sap.ui.getCore().byId("idDefPernr-input").setEditable(this.dialogCreateMode)},_onDialogPernrSelected:function(e){const r=this;r._def.pernr=e.mParameters.newValue;r.readByPernr("ZC_HR231_OrgAssign",false,function(e){r._def.ename=e.ename;r._model.updateBindings()})}})});
},
	"zhr231/ext/controller/Libs.js":function(){sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{getDateIso:function(e){const t=new Date(e.getTime()-e.getTimezoneOffset()*60*1e3);return t.toISOString().split("T")[0]},getTextDate:function(e){return e.toLocaleDateString("ru-RU")},get_middle:function(e,t){return new Date((e.getTime()+t.getTime())/2)},getFirstDayOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},getLastDayOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)},getFixedDate:function(e,t){const n=new Date(e.getTime()+e.getTimezoneOffset()*6e4);if(!t)return n;const o=new Date(n.getTime());o.setDate(o.getDate()+1);return{low:n,high:o}},getMonday:function(e){e=new Date(e);var t=e.getDay(),n=e.getDate()-t+(t==0?-6:1);e.setDate(n);this.set_noon(e);return new Date},set_noon:function(e){e.setHours(12,0,0,0);return e},addDays:function(e,t){const n=new Date(e);n.setDate(n.getDate()+t);this.set_noon(n);return n},showMessage:function(t,n){e.show(t,{duration:3500});if(n)$(".sapMMessageToast").css("background","#cc1919")},send_request:function(e,t){var n=new XMLHttpRequest;if(t)n.onreadystatechange=function(){if(n.readyState==4&&n.status==200)t(n.responseText)};n.open("GET",e,true);n.send(null)},createAppointment:function(e){const t={pernr:e.pernr,ename:e.ename,pic:this.get_avatar_url(e.pernr)};this.set_main_fields(t,e);return t},set_main_fields:function(e,t){e.type="Type"+t.eid;e.role_text=t.role_text,e.color=t.color.toLowerCase();e.notes=t.notes;e.start=this.getFixedDate(t.begda);const n=this.getFixedDate(t.endda,true);e.end1=n.low;e.end2=n.high;e.tooltip="From "+this.getTextDate(t.begda)+" to "+this.getTextDate(t.endda);if(e.notes)e.tooltip+=" - "+e.notes},get_avatar_url:function(e){return document.location.origin+"/sap/opu/odata/sap/ZC_PY000_REPORT_CDS/ZC_PY000_PernrPhoto(pernr='"+e+"')/$value?sap-client=300&$filter="+encodeURIComponent("img_size eq 64")}}});
},
	"zhr231/ext/controller/ListReportExtension.controller.js":function(){sap.ui.define(["zhr231/ext/controller/Libs","zhr231/ext/controller/Schedule","zhr231/ext/controller/ReportButtons","zhr231/ext/controller/MessageParser","zhr231/ext/controller/Details","zhr231/ext/controller/EditDef"],function(e,t,i,n,s,a){"use strict";return{_prefix:"zhr231::sap.suite.ui.generic.template.ListReport.view.ListReport::ZC_HR231_Emergency_Role--",_calendar_data:{generalTitle:"",supportedAppointmentItems:[],persons:[],list:[],canCreate:false,canUpdDefaults:false},onInit:function(){sap.ui.core.BusyIndicator.show(0);const i=this.getView().byId(this._prefix+"listReportFilter");i.setLiveMode(true);i.setShowClearOnFB(true);this._oModel=new sap.ui.model.json.JSONModel;this._oModel.setData(this._calendar_data);this.getView().setModel(this._oModel,"calendar");this._setMessageParser();this._loadRoleText();const n=this.getView().byId(this._prefix+"page");const s=n.getContent();sap.ui.core.Fragment.load({id:this.getView().getId(),name:"zhr231.ext.fragment.Main",controller:this}).then(function(e){n.setContent(e);this.getView().byId("idSmartTableParent").addBlock(s);const t=this.getView().byId("idGeneralCalendar");t.setSelectedView(t.getViews()[1]);this.getView().byId(this._prefix+"listReportFilter").attachAssignedFiltersChanged(function(){this._updateCalendarItems()}.bind(this));this._checkAuthorization();sap.ui.core.BusyIndicator.hide()}.bind(this));this.getView().byId(this._prefix+"template:::ListReportPage:::DynamicPageTitle").setVisible(false);window._listReport=this;this.getView().byId("responsiveTable").attachItemPress(function(i){const n=i.getParameters().listItem.getBindingContext().getObject();t.readCurrentSchedule(n.pernr,null,e.createAppointment(n))}.bind(this))},handleRowHeaderClick:function(i){const n=i.mParameters.row.getBindingContext("calendar").getObject();if(n.appointments.length===0)return;const s=n.appointments[0];const a={pernr:"*"+s.pernr+"*",begda:`datetime*${e.getDateIso(s.start)}T00%3A00%3A00*`,endda:`datetime*${e.getDateIso(s.end1)}T00%3A00%3A00*`,eid:"*"+s.type.substr(4)+"*"};window.location.href=`index.html#/ZC_HR231_Emergency_Role(${new URLSearchParams(a).toString().replaceAll("*","'").replaceAll("&",",")})/`;t.readCurrentSchedule(s.pernr,null,s)},handleMoreLinkPress:function(e){const t=e.getParameter("date");const i=this.getView().byId("idGeneralCalendar");i.setSelectedView(i.getViews()[0]);i.setStartDate(t)},onAfterRendering:function(){i.initAll(this)},onBeforeRebindTableExtension:function(e){const t=e.getParameter("bindingParams");t.parameters=t.parameters||{};const n=e.getSource();const s=this.byId(n.getSmartFilterId());if(this._ChartTab)this._ChartTab.read_chart_data();i.beforeFilter(s,t)},startDateChangeHandler:function(){this._updateCalendarItems()},onSectionChange:function(e){this._active_section=e.getParameter("section").getId().replace(this._prefix,"");if(this._active_section==="idGeneralSection"||this._active_section==="idPersonalSection")this._updateCalendarItems();if(this._active_section==="chartTab"){sap.ui.core.BusyIndicator.show(0);sap.ui.require(["zhr231/ext/controller/ChartTab"],function(e){sap.ui.core.BusyIndicator.hide();if(!this._ChartTab)this._ChartTab=new e(this)}.bind(this))}},_get_period:function(){if(this._active_section==="idGeneralSection"){const t=this.getView().byId("idGeneralCalendar").getStartDate();this._calendar_data.generalTitle=t.getFullYear()+" - "+t.toLocaleString("default",{month:"long"});return{date_from:e.addDays(t,-6),date_to:e.addDays(t,31+13)}}const t=this.getView().byId("idPersonalCalendar");const i=t.getStartDate();return{date_from:e.addDays(i,0),date_to:e.addDays(i,t.getViewKey()==="OneMonth"?30:6)}},_updateCalendarItems:function(){const t=this;const i=t.getView().byId(this._prefix+"listReportFilter");const n=i.getFilters();const s=this._get_period();n.push(new sap.ui.model.Filter("begda",sap.ui.model.FilterOperator.LE,e.getDateIso(s.date_to)));n.push(new sap.ui.model.Filter("endda",sap.ui.model.FilterOperator.GE,e.getDateIso(s.date_from)));this.getOwnerComponent().getModel().read("/ZC_HR231_Emergency_Role",{filters:n,urlParameters:{$select:"pernr,role_text,begda,endda,ename,plans_txt,grp_text,notes,eid,color,photo_path",search:i.getBasicSearchValue()},success:function(e){t.setCalendarItems(e.results)}})},setCalendarItems:function(t){const i={};this._calendar_data.list=[];for(const n of t){const t=i[n.pernr]||{personID:n.pernr,pic:e.get_avatar_url(n.pernr),ename:n.ename,plans_txt:n.plans_txt,appointments:[]};const s=e.createAppointment(n);t.appointments.push(s);this._calendar_data.list.push(s);i[n.pernr]=t}this._calendar_data.persons=Object.values(i);this.refreshCalendar()},refreshCalendar:function(i,n){if(n)this._updateCalendarItems();else this._oModel.updateBindings();const s=this.getView().byId(this._prefix+"responsiveTable");s.getParent().rebindTable();if(i){e.showMessage(i);if(this.scheduleObj&&window._objectPage)t.readCurrentSchedule()}},openLegend:function(e){var t=this,i=e.getSource(),n=t.getView();if(!this._pLegendPopover){this._pLegendPopover=sap.ui.core.Fragment.load({id:n.getId(),name:"zhr231.ext.fragment.Legend",controller:this}).then(function(e){e.setModel(t._oModel,"calendar");n.addDependent(e);return e})}this._pLegendPopover.then(function(e){if(e.isOpen()){e.close()}else{e.openBy(i)}})},handleAppointmentSelect:function(e,t){this.scheduleObj=t;const i=e.getParameter("appointment");if(!i)return;if(!this.details)this.details=new s(this);if(!t)t=i.getBindingContext("calendar").getObject();this.details.initItem(t);this.details.showPopup(i)},appointmentCreate:function(){if(!this.details)this.details=new s(this);this.details.initItem({start:new Date},true);this.details.handleEditButton()},update_1_appointment:function(t,i,n){const s=this._calendar_data.persons.filter(e=>e.personID===i.pernr);if(!s[0])return;const a=s[0].appointments.filter(t=>e.getTextDate(t.start)===e.getTextDate(e.getFixedDate(i.begda))&&e.getTextDate(t.end1)===e.getTextDate(e.getFixedDate(i.endda)));if(!a[0])return;const r=a[0];if(n)e.set_main_fields(r,n);else{s[0].appointments=s[0].appointments.filter(e=>e!==r);this._calendar_data.list=this._calendar_data.list.filter(e=>e!==r)}this.refreshCalendar(`Emergency role for ${r.pernr} ${t}`)},_setMessageParser:function(){const e=this.getOwnerComponent().getModel();const t=new n(e.sServiceUrl,e.oMetadata,!!e.bPersistTechnicalMessages);e.setMessageParser(t)},_loadRoleText:function(){const e=this;const t=e._calendar_data.supportedAppointmentItems;if(t.length===0)this.getOwnerComponent().getModel().read("/ZC_HR231_EmergeRoleText",{urlParameters:{$select:"eid,text,color"},success:function(e){for(const i of e.results)t.push({type:"Type"+i.eid,text:i.text+" ("+i.eid+")",color:i.color.toLowerCase()})}})},_checkAuthorization:function(){const e=this;e.getOwnerComponent().getModel().read(`/ZC_HR231_DefaultsEdit`,{filters:[new sap.ui.model.Filter("pernr",sap.ui.model.FilterOperator.EQ,"99999999")],urlParameters:{$select:"allowed_eids,upd_defaults"},success:function(e){if(e.results.length===0)return;this._calendar_data.canCreate=e.results[0].allowed_eids.length>0;this._calendar_data.canUpdDefaults=e.results[0].upd_defaults==="X";this._oModel.updateBindings()}.bind(this)})},onDefaultEditClick:function(e){const t=e!=="CRE"?e.oSource.getTarget().substr(0,3):e;const i=e!=="CRE"?e.oSource.getTarget().substr(4):false;if(t==="DEL")this._doDefaultDelete(i);else this._doDefaultEdit(t==="CRE",i)},_doDefaultEdit:function(e,t){if(!this.editDef)this.editDef=new a(this);this.editDef.openDialog(e,t)},defaultUpdated:function(t){if(t)e.showMessage(t);this.getView().byId(this._prefix+"idDefaultList").rebindTable()},_doDefaultDelete:function(e){const t=this;const i=e.split("-");if(!this._deleteDialog){this._deleteDialog=new sap.m.Dialog({type:sap.m.DialogType.Message,title:"Confirm",content:new sap.m.Text({text:`Are you sure to delete ${i[0]} - ${i[1]} option?`}),beginButton:new sap.m.Button({type:sap.m.ButtonType.Emphasized,text:"Delete",press:function(){this._deleteDialog.close();this.getView().getModel().remove(`/ZC_HR231_DefaultsEdit(pernr='${i[0]}',emergrole_id='${i[1]}')`,{success:function(){t.defaultUpdated(`The option for ${i[0]} - ${i[1]} successfully deleted`)}})}.bind(this)}),endButton:new sap.m.Button({text:"Cancel",press:function(){this._deleteDialog.close()}.bind(this)})})}this._deleteDialog.open()}}});
},
	"zhr231/ext/controller/MessageParser.js":function(){sap.ui.define(["zhr231/ext/controller/Libs","sap/ui/model/odata/ODataMessageParser"],function(e,s){"use strict";return s.extend("zhr231.ext.controller.MessageParser",{parse:function(r,t,o,a,n){var i=this;s.prototype.parse.apply(i,arguments);if(r.statusCode<400||r.statusCode>=600)return;const p={request:t,response:r,url:t.requestUri};const u=this._parseBody(r,p);const c=[];const d=[];for(let e of u){if(e.message.indexOf("An exception was raised")===-1)c.push(e.message);d.push(e.type)}e.showMessage(c.join("\n"),d.indexOf("Error")>=0)}})});
},
	"zhr231/ext/controller/ObjectPageExtension.controller.js":function(){sap.ui.define(["zhr231/ext/controller/Schedule"],function(e){"use strict";return{_prefix:"zhr231::sap.suite.ui.generic.template.ObjectPage.view.Details::ZC_HR231_Emergency_Role--",onInit:function(){window._objectPage=this;e.init(this)},onAfterRendering:function(){e.readCurrentSchedule()},startDateChangeHandler:function(t){e.readCurrentSchedule(null,t.getParameter("date"))},handleAppointmentSelect:function(e){const t=e.getParameter("appointment");if(!t)return;const n=t.getBindingContext("schedule").getObject();if(n._app)window._listReport.handleAppointmentSelect(e,n._app)}}});
},
	"zhr231/ext/controller/ReportButtons.js":function(){sap.ui.define(["zhr231/ext/controller/Libs","sap/m/Button","sap/m/DynamicDateRange","sap/m/DynamicDateUtil"],function(e,t,i,n){"use strict";return{REPORT:"00000000",SEND_EMAIL:"77777777",initAll:function(e){this.owner=e;const n=e.getView();n.byId("listReport-btnPersonalisation").setVisible(false);n.byId("listReport-btnExcelExport").setVisible(false);const r=n.byId(e._prefix+"template::ListReport::TableToolbar");this.dateFilter=new i({id:e._prefix+"dateRange",value:{operator:"THISWEEK",values:[]},required:true,width:"25rem",change:function(){this.oSmartFilterBar.fireSearch()}.bind(this)});r.addContent(this.dateFilter);r.addContent(new t({id:e._prefix+"report-xlsx",text:"Report",icon:"sap-icon://excel-attachment",press:function(){const e=this._get_url_with_filter(this.REPORT);if(!e)return;window.open(e)}.bind(this)}));r.addContent(new t({id:e._prefix+"send-link",text:"Send",icon:"sap-icon://email",press:this.send_email.bind(this)}))},_get_url_with_filter:function(t){const i=this.owner.getView().byId(this.owner._prefix+"responsiveTable");const n=i.getBinding("items").sFilterParams;if(!n||n.indexOf("begda")===-1){e.showMessage('Please specify filter with "Start date"',true);return""}return document.location.origin+`/sap/opu/odata/sap/ZC_HR231_EMERGENCY_ROLE_CDS/ZC_HR231_Emergency_Role(pernr='${t}',begda=datetime'2000-01-01T00%3A00%3A00',endda=datetime'2000-01-01T00%3A00%3A00',eid='00')/$value?`+n},send_email:function(){const t=document.getElementById(this.dateFilter.getId()+"-input-inner").value;const i=this._get_url_with_filter(this.SEND_EMAIL)+` and photo_path ne '${t}'`;if(!i)return;e.send_request(i,function(t){t=JSON.parse(t);e.showMessage(decodeURIComponent(t.message),t.error)}.bind(this))},_get_date_filter:function(){const t=n.toDates(this.dateFilter.getValue());return[new sap.ui.model.Filter("begda",sap.ui.model.FilterOperator.LE,e.getDateIso(e.set_noon(t[1]))),new sap.ui.model.Filter("endda",sap.ui.model.FilterOperator.GE,e.getDateIso(e.set_noon(t[0])))]},beforeFilter:function(e,t){this.oSmartFilterBar=e;t.filters.push(...this._get_date_filter())}}});
},
	"zhr231/ext/controller/Schedule.js":function(){sap.ui.define(["zhr231/ext/controller/Libs"],function(e){"use strict";return{_data:{title:"",startDate:new Date,schedule:[]},init:function(e){this.owner=e;this._oModel=new sap.ui.model.json.JSONModel;this._oModel.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);this._oModel.setData(this._data);const t=e.getView().byId("idWorkSchedule");t.setModel(this._oModel,"schedule")},_refreshSchedule:function(){--this._counter;this._oModel.updateBindings()},readCurrentSchedule:function(t,o,s){if(this._counter>0)return;this._counter=2;this._data.schedule=[];if(s)o=e.get_middle(s.start,s.end1);if(!o)o=this._data.startDate;e.set_noon(o);this._data.title=o.getFullYear()+" - "+o.toLocaleString("default",{month:"long"});this._data.startDate=o;if(!t){const e="pernr='";const o=window.location.href.indexOf(e);t=window.location.href.substring(o+e.length,o+e.length+8)}this._read_roles(t,o);this._read_schedule(t,o)},_read_roles:function(t,o){const s=e.getFirstDayOfMonth(o);const i=e.addDays(s,-6);const n=e.addDays(s,31+13);const r=[new sap.ui.model.Filter("pernr",sap.ui.model.FilterOperator.EQ,t),new sap.ui.model.Filter("begda",sap.ui.model.FilterOperator.LE,e.getDateIso(n)),new sap.ui.model.Filter("endda",sap.ui.model.FilterOperator.GE,e.getDateIso(i))];this.owner.getView().getModel().read("/ZC_HR231_Emergency_Role",{filters:r,success:function(t){for(const o of t.results){const t=e.createAppointment(o);this._data.schedule.push({start:t.start,end:t.end1,title:`${t.role_text} - ${t.tooltip}`,color:t.color,_app:t})}this._refreshSchedule()}.bind(this)})},_read_schedule:function(t,o){this.owner.getView().getModel().read("/ZC_PT028_Schedule",{urlParameters:{$select:"begda,endda,tprog,kind,info,color",$filter:"datum eq datetime'"+e.getDateIso(o)+"T00:00:00' and pernr eq '"+t+"'"},success:function(e){for(let t of e.results)this._data.schedule.push({start:t.begda,end:t.endda,title:t.tprog+(t.info?" - "+t.info:""),color:t.color});this._refreshSchedule()}.bind(this),error:function(e){console.log(e)}})}}});
},
	"zhr231/ext/fragment/ChartTab.fragment.xml":'<core:FragmentDefinition\r\n\txmlns="sap.suite.ui.commons"\r\n\txmlns:m="sap.m"\r\n\txmlns:mvc="sap.ui.core.mvc"\r\n\r\n\txmlns:viz="sap.viz.ui5.controls"\t\r\n\txmlns:vizData="sap.viz.ui5.data"\r\n\txmlns:vizFeeds="sap.viz.ui5.controls.common.feeds"\r\n\t\r\n\txmlns:layout="sap.ui.layout"\r\n\txmlns:core="sap.ui.core"><layout:Splitter width="100%" height="100%"><layout:contentAreas><ChartContainer\r\n\t\t\t\tshowFullScreen="true"\r\n\t\t\t\tshowPersonalization="false"\r\n\t\t\t\tautoAdjustHeight="true"\r\n\t\t\t\tshowSelectionDetails="false"\r\n\t\t\t\tshowLegendButton="true"\r\n\t\t\t\ttitle="------"><dimensionSelectors><m:Select items="{chart>/_periods}"\r\n\t\t\t\t\t\t      selectedKey="{chart>/_period_key}"\r\n\t\t\t\t\t\t      change="read_chart_data"><core:Item key="{chart>key}" text="{chart>value}" /></m:Select></dimensionSelectors><content><ChartContainerContent><content><viz:Popover id="popOverDuty"></viz:Popover><viz:VizFrame id="frameDuty"\r\n\t\t\t\t\t\t\t\t\t\t  height="40rem" width="auto"\r\n\t\t\t\t\t\t\t              uiConfig="{applicationSet:\'fiori\'}"\r\n\t\t\t\t\t\t\t\t\t\t  vizProperties="{\r\n\t\t\t\t\t\t\t\t\t\t\tplotArea:{\r\n\t\t\t\t\t\t\t\t\t\t\t\treferenceLine: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tline: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tprimaryValues: [{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: 4,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvisible: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \'Average value\',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvisible: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: \'sapUiCriticalElement\'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \'sapUiCriticalElement\'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tdataLabel:{visible: true},\r\n\t\t\t\t\t\t\t\t\t\t\t\tdrawingEffect: \'glossy\'\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t  \ttitle: {text : \'Team duty statistics\', visible : true},\r\n\t\t\t\t\t\t\t\t\t\t\tvalueAxis: { title: { text: \'Days count\' } }\r\n\t\t\t\t\t\t\t\t\t\t  }"\r\n\t\t\t\t\t\t\t\t\t\t  vizType="stacked_column"\r\n\t\t\t\t\t\t\t\t\t\t  ><viz:dataset><vizData:FlattenedDataset id="datasetDuty" data="{chart>/_items}"><vizData:dimensions><vizData:DimensionDefinition name="Period" value="{chart>period}"/></vizData:dimensions><vizData:measures></vizData:measures></vizData:FlattenedDataset></viz:dataset><viz:feeds><vizFeeds:FeedItem uid="categoryAxis" type="Dimension" values="Period"/></viz:feeds></viz:VizFrame></content></ChartContainerContent></content></ChartContainer></layout:contentAreas></layout:Splitter></core:FragmentDefinition>',
	"zhr231/ext/fragment/CustomFilter.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:smartfilterbar="sap.ui.comp.smartfilterbar" xmlns:core="sap.ui.core"><smartfilterbar:ControlConfiguration key="visitorFilter" label="Visitors only" visibleInAdvancedArea="true" groupId="_BASIC"><smartfilterbar:customControl></smartfilterbar:customControl></smartfilterbar:ControlConfiguration></core:FragmentDefinition>\r\n',
	"zhr231/ext/fragment/Dialog.fragment.xml":'<core:FragmentDefinition\n\t\txmlns="sap.m"\n\t\txmlns:l="sap.ui.layout"\n\t\txmlns:f="sap.ui.layout.form"\n\t\txmlns:core="sap.ui.core"\n\t\txmlns:smartField="sap.ui.comp.smartfield"><Dialog title="{item>/actionText} emergency data" afterOpen="_onAfterDialogOpen"><beginButton><Button text="{item>/actionText}" type="Emphasized" press="handleActionButton"/></beginButton><endButton><Button text="Cancel" press="handleEditCancelButton"/></endButton><l:VerticalLayout\n\t\t\t\tclass="sapUiContentPadding"\n\t\t\t\twidth="100%"><f:SimpleForm\n\t\t\t\t\teditable="true"\n\t\t\t\t\tlayout="ResponsiveGridLayout"\n\t\t\t\t\tsingleContainerFullSize="false"><Label text="Personnel Number" labelFor="pernr"/><smartField:SmartField id="idEdtPernr"\n\t\t\t\t\t\t\t\t\t   value="{pernr}"\n\t\t\t\t\t\t\t\t\t   entitySet="ZC_HR231_Emergency_Role"\n\t\t\t\t\t\t\t\t\t   change="_onPernrSelected"\n\t\t\t\t\t\t\t\t\t   valueListChanged="_onOtherSelected"\n\t\t\t\t\t\t\t\t\t   textInEditModeSource="None"/><Label text="Employee Name" labelFor="idEname"/><Input id="idEname"\n\t\t\t\t\t\tvalue="{item>/ename}"\n\t\t\t\t\t\teditable="false"/><Label text="From" labelFor="startDate"/><DatePicker\n\t\t\t\t\t\tid="idEdtStartDate"\n\t\t\t\t\t\tvalue="{ path: \'item>/start\', type: \'sap.ui.model.type.Date\', formatOptions: { pattern: \'dd.MM.yyyy\', UTC: true } }"\n\t\t\t\t\t\trequired="true"\n\t\t\t\t\t\tchange="handleDatePickerChange"/><Label text="To" labelFor="endDate"/><DatePicker\n\t\t\t\t        id="idEdtEndDate"\n\t\t\t\t\t\tvalue="{ path: \'item>/end\', type: \'sap.ui.model.type.Date\', formatOptions: { pattern: \'dd.MM.yyyy\', UTC: true } }"\n\t\t\t\t\t\trequired="true"\t\t\t\t\t\t\n\t\t\t\t\t\tchange="handleDatePickerChange"/><Label text="Type" labelFor="inType"/><Select id="inType"\n\t\t\t\t\t\tselectedKey="{item>/eid}"\n\t\t\t\t        items="{/ZC_HR231_EmergeRoleText}"\n\t\t\t\t\t\teditable="false"><core:Item key="{eid}" text="{text}" /></Select><Label text="Notes" /><TextArea value="{item>/notes}" /></f:SimpleForm></l:VerticalLayout></Dialog></core:FragmentDefinition>',
	"zhr231/ext/fragment/EditDef.fragment.xml":'<core:FragmentDefinition\n\t\txmlns="sap.m"\n\t\txmlns:l="sap.ui.layout"\n\t\txmlns:f="sap.ui.layout.form"\n\t\txmlns:core="sap.ui.core"\n\t\txmlns:smartField="sap.ui.comp.smartfield"><Dialog title="{def>/actionText} default option" afterOpen="_onAfterDialogOpen"><beginButton><Button text="{def>/actionText}" type="Emphasized" press="handleActionButton"/></beginButton><endButton><Button text="Cancel" press="closeDialog"/></endButton><l:VerticalLayout\n\t\t\t\tclass="sapUiContentPadding"\n\t\t\t\twidth="100%"><f:SimpleForm\n\t\t\t\t\teditable="true"\n\t\t\t\t\tlayout="ResponsiveGridLayout"\n\t\t\t\t\tsingleContainerFullSize="false"><Label text="Personnel Number" labelFor="idDefPernr"/><smartField:SmartField id="idDefPernr"\n\t\t\t\t\t\t\t\t\t   textInEditModeSource="ValueList"\n\t\t\t\t\t\t\t\t\t   value="{pernr}"\n\t\t\t\t\t\t\t\t\t   mandatory="true"\n\t\t\t\t\t\t\t\t\t   entitySet="ZC_HR231_Defaults"\n\t\t\t\t\t\t\t\t\t   change="_onDialogPernrSelected"/><Label text="Employee Name"/><Input value="{def>/ename}"\n\t\t\t\t\t   editable="false"/><Label text="Emergency role type"/><ComboBox selectedKey="{def>/emergrole_id}"\n\t\t\t\t\titems="{ path: \'/ZC_HR231_EmergeRoleText\',\n\t\t\t\t\t\t\t sorter: { path: \'eid\' }\n\t\t\t\t\t\t   }"><core:Item key="{eid}" text="{text}" /></ComboBox><Label text="Kazakh"/><CheckBox selected="{def>/kz}"/><Label text="Russian"/><CheckBox selected="{def>/ru}"/><Label text="English"/><CheckBox selected="{def>/en}"/></f:SimpleForm></l:VerticalLayout></Dialog></core:FragmentDefinition>',
	"zhr231/ext/fragment/Legend.fragment.xml":'<core:FragmentDefinition\n\t\txmlns="sap.m"\n\t\txmlns:core="sap.ui.core"\n\t\txmlns:u="sap.ui.unified"><ResponsivePopover\n\t\t\ttitle="Calendar Legend"\n\t\t\tplacement="Bottom"\n\t\t\tshowHeader="false"><PlanningCalendarLegend\n\t\t\t\tappointmentItems="{\n\t\t\t\t\tpath : \'calendar>/supportedAppointmentItems\',\n\t\t\t\t\ttemplateShareable: true\n\t\t\t\t}"><appointmentItems><u:CalendarLegendItem\n\t\t\t\t\ttext="{calendar>text}"\n\t\t\t\t\ttype="{calendar>type}"\n\t\t\t\t\tcolor="{calendar>color}"/></appointmentItems></PlanningCalendarLegend></ResponsivePopover></core:FragmentDefinition>',
	"zhr231/ext/fragment/Main.fragment.xml":'<core:FragmentDefinition\n\txmlns:mvc="sap.ui.core.mvc"\n\txmlns="sap.uxap"\n    xmlns:m="sap.m"\n\txmlns:l="sap.ui.layout"\n\txmlns:unified="sap.ui.unified"\n\txmlns:core="sap.ui.core"\n    xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"\n\txmlns:smartTable="sap.ui.comp.smarttable"><ObjectPageLayout\n        id="ObjectPageLayout"\n        enableLazyLoading="true"\t\t\n\t\tupperCaseAnchorBar="false"\n        useIconTabBar="true"\n\t\tsectionChange="onSectionChange"><headerTitle></headerTitle><sections><ObjectPageSection id="idPersonalSection"><customAnchorBarButton><m:Button icon="sap-icon://employee"\n\t\t\t\t\t          text="Personal view"/></customAnchorBarButton><ObjectPageSubSection><m:PlanningCalendar\n\t\t\t\t\t\tid="idPersonalCalendar"\n\t\t\t\t\t\trows="{calendar>/persons}"\n\t\t\t\t\t\tappointmentsVisualization="Filled"\n\t\t\t\t\t\tshowEmptyIntervalHeaders="false"\n\t\t\t\t\t\tshowWeekNumbers="true"\n\t\t\t\t\t\tviewKey="Week"\n\t\t\t\t\t\tstartDateChange=".startDateChangeHandler"\n\t\t\t\t\t\tviewChange=".viewChangeHandler"\t\t\t\t\t\t\n\t\t\t\t\t\tappointmentSelect=".handleAppointmentSelect"\n\t\t\t\t\t\trowHeaderClick="handleRowHeaderClick"\n\t\t\t\t\t\tfirstDayOfWeek="1"\n\t\t\t\t\t><m:toolbarContent><m:Button text="Create" press=".appointmentCreate" tooltip="Create new item"\t\t\t\t\t\t\t          \n\t\t\t\t\t\t\t\t      enabled="{calendar>/canCreate}"/><m:Button icon="sap-icon://legend" press=".openLegend" tooltip="Open Planning Calendar legend" ariaHasPopup="Dialog" /></m:toolbarContent><m:views><m:PlanningCalendarView key="Week" intervalType="Week" description="Week" intervalsS="1" intervalsM="2" intervalsL="7"/><m:PlanningCalendarView key="OneMonth" intervalType="OneMonth" description="Month" intervalsL="31"  /></m:views><m:rows><m:PlanningCalendarRow icon="{calendar>pic}"\n\t\t\t\t\t\t\t\t\t\t\t\ttitle="{calendar>ename}"\n\t\t\t\t\t\t\t\t\t\t\t\ttext="{calendar>plans_txt}"\n\t\t\t\t\t\t\t\t\t\t\t\tappointments="{path : \'calendar>appointments\', templateShareable: true}"\n\t\t\t\t\t\t\t\t\t\t\t\t><m:appointments><unified:CalendarAppointment\n\t\t\t\t\t\t\t\t\t\tstartDate="{calendar>start}"\n\t\t\t\t\t\t\t\t\t\tendDate="{calendar>end2}"                            \n\t\t\t\t\t\t\t\t\t\ttitle="{calendar>role_text}"\n\t\t\t\t\t\t\t\t\t\ttext="{calendar>tooltip}"\n\t\t\t\t\t\t\t\t\t\ttype="{calendar>type}"\n\t\t\t\t\t\t\t\t\t\tcolor="{calendar>color}"\n\t\t\t\t\t\t\t\t\t/></m:appointments></m:PlanningCalendarRow></m:rows></m:PlanningCalendar></ObjectPageSubSection></ObjectPageSection><ObjectPageSection titleUppercase="false" id="personalSection"><customAnchorBarButton><m:Button icon="sap-icon://table-view"\n\t\t\t\t\t\t\t\t      text="Table view"/></customAnchorBarButton><subSections><ObjectPageSubSection id="idSmartTableParent"></ObjectPageSubSection></subSections></ObjectPageSection><ObjectPageSection id="idGeneralSection"><customAnchorBarButton><m:Button icon="sap-icon://appointment-2"\n\t\t\t\t\t\t\t\t      text="General view"/></customAnchorBarButton><ObjectPageSubSection><m:SinglePlanningCalendar\n\t\t\t\t\t\tid="idGeneralCalendar"\n\t\t\t\t\t\tstartDateChange=".startDateChangeHandler"\n\t\t\t\t\t\tviewChange=".viewChangeHandler"\n\t\t\t\t\t\tappointments="{calendar>/list}"\n\t\t\t\t\t\tappointmentSelect=".handleAppointmentSelect"\n\t\t\t\t\t\ttitle="{calendar>/generalTitle}"\n\t\t\t\t\t\tfirstDayOfWeek="1"\n\t\t\t\t\t\tmoreLinkPress="handleMoreLinkPress"><m:actions><m:Button\n\t\t\t\t\t\t\t\ttext="Create"\n\t\t\t\t\t\t\t\tpress=".appointmentCreate"\n\t\t\t\t\t\t\t\ttooltip="Create new item"\n\t\t\t\t\t\t\t\tenabled="{calendar>/canCreate}"/><m:Button\n\t\t\t\t\t\t\t\ticon="sap-icon://legend"\n\t\t\t\t\t\t\t\tpress=".openLegend"\n\t\t\t\t\t\t\t\ttooltip="Open Single Planning Calendar legend"\n\t\t\t\t\t\t\t\tariaHasPopup="Dialog"/></m:actions><m:views><m:SinglePlanningCalendarWeekView\n\t\t\t\t\t\t\t\tkey="Week"\n\t\t\t\t\t\t\t\ttitle="Week"/><m:SinglePlanningCalendarMonthView \n\t\t\t\t\t\t\t\tkey="OneMonth"\n\t\t\t\t\t\t\t\ttitle="Month"/></m:views><m:appointments><unified:CalendarAppointment\n\t\t\t\t\t\t\t\tstartDate="{calendar>start}"\n\t\t\t\t\t\t\t\tendDate="{calendar>end1}"\n\t\t\t\t\t\t\t\ttitle="{calendar>ename}"\n\t\t\t\t\t\t\t\ttext="{calendar>tooltip}"\n\t\t\t\t\t\t\t\ttooltip="{calendar>role_text} - {calendar>tooltip}"\n\t\t\t\t\t\t\t\ttype="{calendar>type}"\n\t\t\t\t\t\t\t\tcolor="{calendar>color}"\n\t\t\t\t\t\t\t\ticon="{calendar>pic}"></unified:CalendarAppointment></m:appointments></m:SinglePlanningCalendar></ObjectPageSubSection></ObjectPageSection><ObjectPageSection id="chartTab"\n\t\t\t                   titleUppercase="false" visible="{is_admin}"><customAnchorBarButton><m:Button icon="sap-icon://business-objects-experience"\n\t\t\t\t\t          text="Statistics"/></customAnchorBarButton><ObjectPageSubSection title=""><m:VBox id="chartVBox"/></ObjectPageSubSection></ObjectPageSection><ObjectPageSection titleUppercase="false" visible="{calendar>/canUpdDefaults}"><customAnchorBarButton><m:Button icon="sap-icon://customize"\n\t\t\t\t\t          text="Settings"/></customAnchorBarButton><ObjectPageSubSection><m:VBox><smartFilterBar:SmartFilterBar id="idDefaultFilter" persistencyKey="searchListReportVariant"\n                        entitySet="ZC_HR231_Defaults" enableBasicSearch="true" showClearOnFB="true" liveMode="true" showMessages="true"\n                                                      useToolbar="false"><smartFilterBar:layoutData><m:FlexItemData shrinkFactor="1"/></smartFilterBar:layoutData></smartFilterBar:SmartFilterBar><smartTable:SmartTable \n\t\t\t\t\t\t\tid="idDefaultList"\n\t\t\t\t\t\t\tsmartFilterId="idDefaultFilter"\n\t\t\t\t\t\t\tentitySet="ZC_HR231_Defaults" \n\t\t\t\t\t\t\theader="Employee defaults" \n\t\t\t\t\t\t\tshowRowCount="true"\n\t\t\t\t\t\t\trequestAtLeastFields="emergrole_id"\n\t\t\t\t\t\t\ttableType="ResponsiveTable"\n\t\t\t\t\t\t\tenableAutoBinding="true"\n\t\t\t\t\t\t\tuseTablePersonalisation="false"\t\t\t\t\t\n\t\t\t\t\t\t\t><smartTable:customToolbar><m:OverflowToolbar design="Transparent"><m:ToolbarSpacer/><m:Button text="Create"  press="onDefaultEditClick(\'CRE\')"/></m:OverflowToolbar></smartTable:customToolbar><m:Table sticky="ColumnHeaders,HeaderToolbar"><m:columns><m:Column><m:customData><core:CustomData key="p13nData" value=\'\\{"columnKey": "edit", "columnIndex": 0}\'/></m:customData></m:Column></m:columns><m:items><m:ColumnListItem><m:HBox><m:Link text="Edit " target="EDT-{pernr}-{emergrole_id}" press="onDefaultEditClick"></m:Link><m:Text text=" - "/><m:Link text=" Delete" target="DEL-{pernr}-{emergrole_id}" press="onDefaultEditClick"></m:Link></m:HBox></m:ColumnListItem></m:items></m:Table><smartTable:layoutData><m:FlexItemData growFactor="1" baseSize="0%"/></smartTable:layoutData></smartTable:SmartTable></m:VBox></ObjectPageSubSection></ObjectPageSection></sections></ObjectPageLayout></core:FragmentDefinition>\n',
	"zhr231/ext/fragment/Popup.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core"><ResponsivePopover id="detailsPopover" title="Information" class="sapUiResponsivePadding--header" placement="Auto"><beginButton><Button text="Edit" type="Emphasized" press="handleEditButton" /></beginButton><endButton><Button text="Delete" press="handlePopoverDeleteButton" /></endButton><f:SimpleForm editable="false" layout="ResponsiveGridLayout" singleContainerFullSize="false"><Label text="Personnel Number" labelFor="moreInfo" /><Text text="{path : \'item>/pernr\', type : \'sap.ui.model.odata.type.String\', constraints : {isDigitSequence : true, maxLength : 8 }}" /><Label text="Employee Name" labelFor="moreInfo" /><Text text="{item>/ename}" /><Label text="From" labelFor="startDate" /><Text text="{ path: \'item>/start\', type: \'sap.ui.model.type.Date\', formatOptions: { pattern: \'dd.MM.yyyy\', UTC: true } }" /><Label text="To" labelFor="endDate" /><Text text="{ path: \'item>/end\', type: \'sap.ui.model.type.Date\', formatOptions: { pattern: \'dd.MM.yyyy\', UTC: true } }" /><Label text="Type" labelFor="appType" /><Text text="{item>/role_text}" /><Label text="Notes" /><Text text="{item>/notes}" /></f:SimpleForm></ResponsivePopover></core:FragmentDefinition>\n',
	"zhr231/ext/fragment/Schedule.fragment.xml":'<core:FragmentDefinition  xmlns="sap.m"\n                          xmlns:l="sap.ui.layout"\n\t\t\t\t\t\t  xmlns:unified="sap.ui.unified"\n\t\t\t\t\t\t  xmlns:core="sap.ui.core"\n\t ><l:VerticalLayout width="100%" id="WorkSchedule"><SinglePlanningCalendar\n\t\t    id="idWorkSchedule"\n            title="{schedule>/title}"\n\t\t    startDateChange=".startDateChangeHandler"\n\t\t\tappointments="{schedule>/schedule}"\n\t\t\tstartDate="{schedule>/startDate}"\n\t\t\tappointmentSelect="handleAppointmentSelect"\n\t\t\tfirstDayOfWeek="1"><views><SinglePlanningCalendarMonthView\n\t\t\t\t\tkey="OneMonth"\n\t\t\t\t\ttitle="Month"/></views><appointments><unified:CalendarAppointment\n\t\t\t\t\tstartDate="{schedule>start}"\n\t\t\t\t\tendDate="{schedule>end}"\n\t\t\t\t\ttitle="{schedule>title}"\n\t\t\t\t\tcolor="{schedule>color}"></unified:CalendarAppointment></appointments></SinglePlanningCalendar></l:VerticalLayout></core:FragmentDefinition>\n',
	"zhr231/i18n/i18n.properties":'# This is the resource bundle for zhr231\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Emergency Team Duty\n\n#YDES: Application description\nappDescription=Emergency Team Duty',
	"zhr231/i18n/i18n_en_GB.properties":'# This is the resource bundle for zhr231\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Emergency Team Duty\n\n#YDES: Application description\nappDescription=Emergency Team Duty',
	"zhr231/manifest.json":'{"_version":"1.42.0","sap.app":{"id":"zhr231","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.8.4","toolsId":"7e3a49ee-07e1-4c3c-86c5-de95dbc2e659"},"dataSources":{"mainService":{"uri":"/sap/opu/odata/sap/ZC_HR231_EMERGENCY_ROLE_CDS/","type":"OData","settings":{"annotations":["ZC_HR231_EMERGENCY_ROLE_CDS_VAN","annotation"],"localUri":"localService/metadata.xml","odataVersion":"2.0"}},"ZC_HR231_EMERGENCY_ROLE_CDS_VAN":{"uri":"/sap/opu/odata/IWFND/CATALOGSERVICE;v=2/Annotations(TechnicalName=\'ZC_HR231_EMERGENCY_ROLE_CDS_VAN\',Version=\'0001\')/$value/","type":"ODataAnnotation","settings":{"localUri":"localService/ZC_HR231_EMERGENCY_ROLE_CDS_VAN.xml"}},"annotation":{"type":"ODataAnnotation","uri":"annotations/annotation.xml","settings":{"localUri":"annotations/annotation.xml"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.102.0","libs":{"sap.m":{},"sap.ui.core":{},"sap.ushell":{},"sap.f":{},"sap.ui.comp":{},"sap.ui.generic.app":{},"sap.suite.ui.generic.template":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"zhr231.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"defaultBindingMode":"TwoWay","defaultCountMode":"Inline","refreshAfterChange":false,"metadataUrlParams":{"sap-value-list":"all"}}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"resources":{"css":[]},"routing":{"config":{},"routes":[],"targets":{}},"extends":{"extensions":{"sap.ui.controllerExtensions":{"sap.suite.ui.generic.template.ListReport.view.ListReport":{"controllerName":"zhr231.ext.controller.ListReportExtension"},"sap.suite.ui.generic.template.ObjectPage.view.Details":{"controllerName":"zhr231.ext.controller.ObjectPageExtension","sap.ui.generic.app":{}}},"sap.ui.viewExtensions":{"sap.suite.ui.generic.template.ListReport.view.ListReport":{"SmartFilterBarControlConfigurationExtension|ZC_HR231_Emergency_Role":{"className":"sap.ui.core.Fragment","fragmentName":"zhr231.ext.fragment.CustomFilter","type":"XML"}},"sap.suite.ui.generic.template.ObjectPage.view.Details":{"AfterFacet|ZC_HR231_Emergency_Role|GeneralInfo":{"className":"sap.ui.core.Fragment","fragmentName":"zhr231.ext.fragment.Schedule","type":"XML","sap.ui.generic.app":{"title":"Work schedule"}}}}}}},"sap.ui.generic.app":{"_version":"1.3.0","settings":{"forceGlobalRefresh":false,"objectPageHeaderType":"Dynamic","considerAnalyticalParameters":true,"showDraftToggle":false,"flexibleColumnLayout":{"defaultTwoColumnLayoutType":"TwoColumnsMidExpanded","defaultThreeColumnLayoutType":"ThreeColumnsMidExpanded"}},"pages":{"ListReport|ZC_HR231_Emergency_Role":{"entitySet":"ZC_HR231_Emergency_Role","component":{"name":"sap.suite.ui.generic.template.ListReport","list":true,"settings":{"condensedTableLayout":true,"smartVariantManagement":true,"enableTableFilterInPageVariant":true,"filterSettings":{"dateSettings":{"useDateRange":true}},"dataLoadSettings":{"loadDataOnAppLaunch":"always"}}},"pages":{"ObjectPage|ZC_HR231_Emergency_Role":{"entitySet":"ZC_HR231_Emergency_Role","defaultLayoutTypeIfExternalNavigation":"MidColumnFullScreen","component":{"name":"sap.suite.ui.generic.template.ObjectPage"},"pages":{"ObjectPage|to_DefaultsEdit":{"navigationProperty":"to_DefaultsEdit","entitySet":"ZC_HR231_DefaultsEdit","defaultLayoutTypeIfExternalNavigation":"MidColumnFullScreen","component":{"name":"sap.suite.ui.generic.template.ObjectPage"}}}}}}}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"}}',
	"zhr231/utils/locate-reuse-libs.js":'(function(e){var t=function(e,t){var n=["sap.apf","sap.base","sap.chart","sap.collaboration","sap.f","sap.fe","sap.fileviewer","sap.gantt","sap.landvisz","sap.m","sap.ndc","sap.ovp","sap.rules","sap.suite","sap.tnt","sap.ui","sap.uiext","sap.ushell","sap.uxap","sap.viz","sap.webanalytics","sap.zen"];Object.keys(e).forEach(function(e){if(!n.some(function(t){return e===t||e.startsWith(t+".")})){if(t.length>0){t=t+","+e}else{t=e}}});return t};var n=function(e){var n="";if(e){if(e["sap.ui5"]&&e["sap.ui5"].dependencies){if(e["sap.ui5"].dependencies.libs){n=t(e["sap.ui5"].dependencies.libs,n)}if(e["sap.ui5"].dependencies.components){n=t(e["sap.ui5"].dependencies.components,n)}}if(e["sap.ui5"]&&e["sap.ui5"].componentUsages){n=t(e["sap.ui5"].componentUsages,n)}}return n};var r=function(e){var t=e;return new Promise(function(r,a){$.ajax(t).done(function(e){r(n(e))}).fail(function(){a(new Error("Could not fetch manifest at \'"+e))})})};var a=function(e){if(e){Object.keys(e).forEach(function(t){var n=e[t];if(n&&n.dependencies){n.dependencies.forEach(function(e){if(e.url&&e.url.length>0&&e.type==="UI5LIB"){jQuery.sap.log.info("Registering Library "+e.componentId+" from server "+e.url);jQuery.sap.registerModulePath(e.componentId,e.url)}})}})}};e.registerComponentDependencyPaths=function(e){return r(e).then(function(e){if(e&&e.length>0){var t="/sap/bc/ui2/app_index/ui5_app_info?id="+e;var n=jQuery.sap.getUriParameters().get("sap-client");if(n&&n.length===3){t=t+"&sap-client="+n}return $.ajax(t).done(a)}})}})(sap);var scripts=document.getElementsByTagName("script");var currentScript=document.getElementById("locate-reuse-libs");if(!currentScript){currentScript=document.currentScript}var manifestUri=currentScript.getAttribute("data-sap-ui-manifest-uri");var componentName=currentScript.getAttribute("data-sap-ui-componentName");var useMockserver=currentScript.getAttribute("data-sap-ui-use-mockserver");var bundleResources=function(){jQuery.sap.require("jquery.sap.resources");var e=sap.ui.getCore().getConfiguration().getLanguage();var t=jQuery.sap.resources({url:"i18n/i18n.properties",locale:e});document.title=t.getText("appTitle")};sap.registerComponentDependencyPaths(manifestUri).catch(function(e){jQuery.sap.log.error(e)}).finally(function(){sap.ui.getCore().attachInit(bundleResources);if(componentName&&componentName.length>0){if(useMockserver&&useMockserver==="true"){sap.ui.getCore().attachInit(function(){sap.ui.require([componentName.replace(/\\./g,"/")+"/localService/mockserver"],function(e){e.init();sap.ushell.Container.createRenderer().placeAt("content")})})}else{sap.ui.require(["sap/ui/core/ComponentSupport"]);sap.ui.getCore().attachInit(bundleResources)}}else{sap.ui.getCore().attachInit(function(){sap.ushell.Container.createRenderer().placeAt("content")})}});sap.registerComponentDependencyPaths(manifestUri);'
}});
